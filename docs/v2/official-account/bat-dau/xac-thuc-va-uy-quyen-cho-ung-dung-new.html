<div id="__docusaurus"><div id="docusaurus-base-url-issue-banner-container"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Nhảy tới nội dung</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div id="google_translate_element" style="display:none"><div class="skiptranslate goog-te-gadget" dir="ltr" style="display: none;"><div id=":0.targetLanguage" style="display: inline;"><select class="goog-te-combo" aria-label="Tiện ích dịch ngôn ngữ"></select></div>&nbsp;&nbsp;Được hỗ trợ bởi <span style="white-space:nowrap"><a class="VIpgJd-ZVi9od-l4eHX-hSRGPd" href="https://translate.google.com" target="_blank"><img src="https://www.gstatic.com/images/branding/googlelogo/1x/googlelogo_color_42x16dp.png" width="37px" height="14px" style="padding-right: 3px" alt="Google Dịch">Dịch</a></span></div></div><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.142 6.284h17.716a1.142 1.142 0 1 0 0-2.284H3.142a1.142 1.142 0 1 0 0 2.284Zm3.236 5.71a1.713 1.713 0 1 0-3.427 0 1.713 1.713 0 0 0 3.427 0Zm14.465 1.142a1.142 1.142 0 1 0 0-2.284H10.755a1.142 1.142 0 0 0 0 2.284h10.088Zm0 6.852a1.142 1.142 0 1 0 0-2.284H10.755a1.142 1.142 0 0 0 0 2.284h10.088ZM6.378 18.846a1.713 1.713 0 1 0-3.427 0 1.713 1.713 0 0 0 3.427 0Z" fill="#fff"></path></svg></button><a href="https://developers.zalo.me" target="_self" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/docs/img/logo.svg" alt="Site Logo" class="themedImage_ToTc themedImage--light_HNdA custom-navbar-logo-class" height="72" width="250"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link custom-nav-item" href="/docs/v2/official-account/bat-dau/kham-pha">Official Account API</a><a class="navbar__item navbar__link custom-nav-item" href="/docs/v2/social-api/tai-lieu/tong-quan">Social API</a><a class="navbar__item navbar__link custom-nav-item" href="/docs/v2/sdk/android-sdk/tong-quan">Android SDK</a><a class="navbar__item navbar__link custom-nav-item" href="/docs/v2/sdk/ios-sdk/tong-quan">IOS SDK</a><a class="navbar__item navbar__link custom-nav-item" href="/docs/v2/sdk/java-sdk/tong-quan">Java SDK</a><a class="navbar__item navbar__link custom-nav-item" href="/docs/v2/sdk/dotnet-sdk/tong-quan">Dotnet SDK</a><a class="navbar__item navbar__link custom-nav-item" href="/docs/v2/sdk/php-sdk/tong-quan">PHP SDK</a><a class="navbar__item navbar__link custom-nav-item" href="/docs/v2/zalo-notification-service/bat-dau/gioi-thieu-zalo-notification-service-api">ZNS API</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_x44X"><button class="clean-btn toggleButton_gllP" type="button" title="Chuyển đổi chế độ sáng và tối (hiện tại chế độ sáng)" aria-label="Chuyển đổi chế độ sáng và tối (hiện tại chế độ sáng)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_H2mL"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><button aria-label="Trở lại đầu trang" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item nav__intro">Official Account API</li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a href="https://developers.zalo.me/docs/official-account/bat-dau/kham-pha" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true">Bắt đầu</a></div><ul class="menu__list" style="display: block; overflow: visible; height: auto;"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="https://developers.zalo.me/docs/official-account/bat-dau/kham-pha" class="menu__link">Khám phá</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="https://developers.zalo.me/docs/official-account/bat-dau/best-practice" class="menu__link">Tối ưu trải nghiệm khách hàng trong hành trình với doanh nghiệp</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="https://developers.zalo.me/docs/official-account/bat-dau/khoi-tao-ung-dung" class="menu__link">Khởi tạo ứng dụng</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="https://developers.zalo.me/docs/official-account/bat-dau/xac-thuc-va-uy-quyen-cho-ung-dung-new" class="menu__link menu__link--active">Xác thực và ủy quyền cho Ứng dụng</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="https://developers.zalo.me/docs/official-account/bat-dau/gioi-thieu-official-account-api-va-cac-nhom-quyen" class="menu__link">Giới thiệu Official Account API và các nhóm Quyền</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a href="https://developers.zalo.me/docs/official-account/tin-nhan/tong-quan" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true">Tin nhắn</a></div><ul class="menu__list" style="display: block; overflow: visible; height: auto;"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="https://developers.zalo.me/docs/official-account/tin-nhan/tong-quan" class="menu__link">Tổng quan</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://developers.zalo.me/docs/official-account/tin-nhan/tin-tu-van/dieu-kien-gui-tin-tu-van" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0">Tin Tư vấn</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://developers.zalo.me/docs/official-account/tin-nhan/tin-giao-dich/dieu-kien-gui-tin-giao-dich" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0">Tin Giao dịch</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://developers.zalo.me/docs/official-account/tin-nhan/tin-truyen-thong/dieu-kien-gui-tin-truyen-thong" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0">Tin Truyền thông</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://developers.zalo.me/docs/official-account/tin-nhan/cac-loai-tin-khac/gui-tin-nhan-van-ban-den-nguoi-dung-an-danh" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0">Các loại tin khác</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://developers.zalo.me/docs/official-account/tin-nhan/quan-ly-tin-nhan/kiem-tra-han-muc-gui-tin-nhan" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0">Quản lý tin nhắn</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://developers.zalo.me/docs/official-account/nhom-chat-gmf/general" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false">Nhóm chat - GMF</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://developers.zalo.me/docs/official-account/goi-thoai/tong-quan" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false">Gọi thoại</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://developers.zalo.me/docs/official-account/noi-dung/tong-quan" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false">Nội dung</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://developers.zalo.me/docs/official-account/quan-ly/tong-quan" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false">Quản lý</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://developers.zalo.me/docs/official-account/webhook/tong-quan" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false">Webhook</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://developers.zalo.me/docs/official-account/extension/gioi-thieu" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false">Tiện ích (Zalo OA Extension)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://developers.zalo.me/docs" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false">Plugin</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://developers.zalo.me/docs/official-account/phu-luc/ma-tai-san-asset_id-la-gi" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false">Phụ lục</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://developers.zalo.me/docs/official-account/v2/broadcast-bai-viet" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false">V2 (Dừng hỗ trợ OA Doanh nghiệp từ 20/6/2023)</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Trang chủ" class="breadcrumbs__link" href="/docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Bắt đầu</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Xác thực và ủy quyền cho Ứng dụng</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">Trên trang này</button></div><div class="theme-doc-markdown markdown"><h1>Xác thực và ủy quyền cho Ứng dụng</h1><p>Để sử dụng hệ thống Zalo OA OpenAPI (Zalo OA, ZNS, Zalo Shop,...), ứng dụng của bạn cần được OA liên kết và cấp quyền bằng cách lấy mã Access Token (mã truy cập) từ OA đó. </p><p>Tài liệu này hướng dẫn việc Xác thực và Ủy quyền cho ứng dụng theo 2 cách: </p><ol><li><p>Sử dụng giao thức OAuth v4 </p></li><li><p>Sử dụng công cụ Zalo API Explorer </p></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="các-thuật-ngữ">Các thuật ngữ<a href="#các-thuật-ngữ" class="hash-link" aria-label="Đường dẫn trực tiếp tới Các thuật ngữ" title="Đường dẫn trực tiếp tới Các thuật ngữ">​</a></h2><p>Authorization code  </p><ul class=""><li><p>Là mã ủy quyền từ OA cho phép ứng dụng gọi API để lấy Access Token và Refresh Token. </p></li><li><p>Authorization Code chỉ được sử dụng 1 lần và có hiệu lực trong vòng 10 phút (kể từ lúc được cấp). </p></li></ul><p>Access token  </p><ul class=""><li><p>Access Token cho phép ứng dụng đại điện OA sử dụng API. </p></li><li><p>Thời hạn hiệu lực của Access Token: 25 giờ (kể từ lúc được cấp mới). </p></li></ul><p>Refresh token  </p><ul class=""><li><p>Với mỗi Access Token được tạo ra sẽ luôn có một Refresh Token đi kèm.</p></li><li><p>Refresh Token được sử dụng để tạo lại Access Token khi Access Token hết hiệu lực. </p></li><li><p>Refresh Token là loại mã sử dụng 1 lần, sau khi thành công sử dụng để tạo Access Token mới, Refresh Token sẽ hết hiệu lực (Tuy nhiên bạn cũng sẽ nhận được 1 mới Refresh Token đi kèm để sử dụng cho lần tạo lại Access Token tiếp theo).</p></li><li><p>Thời hạn hiệu lực của Refresh Token: 3 tháng (kể từ lúc được cấp mới). </p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="cách-1-sử-dụng-giao-thức-oauth-v4">Cách 1: Sử dụng giao thức OAuth v4<a href="#cách-1-sử-dụng-giao-thức-oauth-v4" class="hash-link" aria-label="Đường dẫn trực tiếp tới Cách 1: Sử dụng giao thức OAuth v4" title="Đường dẫn trực tiếp tới Cách 1: Sử dụng giao thức OAuth v4">​</a></h2><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>mẹo</div><div class="admonitionContent_S0QG"><p>Phương pháp này yêu cầu có kiến thức về lập trình, hiểu rõ&nbsp;code challenge&nbsp;và&nbsp;code verifier. Hoặc khi Doanh nghiệp sử dụng Ứng dụng của bên thứ 3</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="lấy-access-token-lần-đầu">Lấy Access Token lần đầu<a href="#lấy-access-token-lần-đầu" class="hash-link" aria-label="Đường dẫn trực tiếp tới Lấy Access Token lần đầu" title="Đường dẫn trực tiếp tới Lấy Access Token lần đầu">​</a></h3><p>Sơ đồ tổng quan các bước yêu cầu cấp mới OA access token</p><img src="/docs/img/access_token.png" class="custom-image"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="bước-1-tạo-code-verifier-và-code-challenge">Bước 1: Tạo code verifier và code challenge<a href="#bước-1-tạo-code-verifier-và-code-challenge" class="hash-link" aria-label="Đường dẫn trực tiếp tới Bước 1: Tạo code verifier và code challenge" title="Đường dẫn trực tiếp tới Bước 1: Tạo code verifier và code challenge">​</a></h4><p>Zalo sử dụng <code>code challenge</code> và <code>code verifier</code> (theo phương thức PKCE) để tăng độ bảo mật của quá trình xác thực và ủy quyền. Xem thêm về PKCE&nbsp;<a href="https://www.oauth.com/oauth2-servers/pkce/" target="_blank" rel="noopener noreferrer">tại đây</a>.</p><p>Trước khi thiết lập đường dẫn yêu cầu cấp quyền, bạn cần:</p><ul class=""><li><p>Tạo một <code>code verifier</code> và lưu trữ trên hệ thống của bạn.</p></li><li><p>Dùng mã hóa&nbsp;code verifier&nbsp;bằng bộ ký tự&nbsp;<code>ASCII</code>, tiếp đến dùng giải thuật&nbsp;<code>SHA-256</code>&nbsp;để tạo mã băm, sau cùng encode&nbsp;<code>Base64</code>&nbsp;(without Padding) mã băm để tạo ra&nbsp;<code>code challenge</code>&nbsp;từ&nbsp;<code>code verifier</code>.</p></li><li><p><code>code_challenge</code> = <code>Base64.encode(SHA-256.hash(ASCII(code_verifier)))</code></p></li></ul><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Lưu ý</div><div class="admonitionContent_S0QG"><ul class=""><li><p>Yêu cầu sử dụng&nbsp;code verifier&nbsp;khác nhau cho từng request.</p></li><li><p>Code verifier&nbsp;là 1 chuỗi bất kỳ, format có đủ chữ hoa, chữ thường, số và dài 43 ký tự.</p></li><li><p>Code verifier là code dùng để xác minh quyền sở hữu của bạn với authorization code bạn nhận được từ hệ thống. Vui lòng không cung cấp code này cho bên thứ ba.</p></li><li><p>Hãy dùng biến state hoặc một param tự định nghĩa truyền vào redirect_uri ở bước 3 để xác định authorization code mà bạn nhận được ứng với code verifier nào.</p></li></ul></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="bước-2-thiết-lập-đường-dẫn-yêu-cầu-cấp-quyền">Bước 2: Thiết lập đường dẫn yêu cầu cấp quyền<a href="#bước-2-thiết-lập-đường-dẫn-yêu-cầu-cấp-quyền" class="hash-link" aria-label="Đường dẫn trực tiếp tới Bước 2: Thiết lập đường dẫn yêu cầu cấp quyền" title="Đường dẫn trực tiếp tới Bước 2: Thiết lập đường dẫn yêu cầu cấp quyền">​</a></h4><p>Truy cập Zalo for Developers để thiết lập đường dẫn yêu cầu cấp quyền. Tại bước này, bạn cần thiết lập callback URL và tham số code challenge vừa được tạo ở bước 1. Sau khi truyền vào các tham số, vui lòng chọn các quyền cần được cấp và lưu lại các thiết lập.</p><p>Danh sách các nhóm quyền bạn có thể yêu cầu OA cấp:</p><ul class=""><li><p>Quyền gửi tin và thông báo qua OA</p></li><li><p>Quyền quản lý tin nhắn người dùng</p></li><li><p>Quyền quản lý thông tin OA</p></li><li><p>Quyền quản lý ads</p></li><li><p>Quyền quản lý bài viết</p></li><li><p>Quyền quản lý cửa hàng, đơn hàng</p></li><li><p>Quyền sử dụng chức năng gọi thoại</p></li><li><p>Quyền nhận sự kiện quản lý tin nhắn</p></li><li><p>Quyền nhận sự kiện quản lý người dùng</p></li></ul><p>Xem chi tiết nhóm quyền và API tương ứng&nbsp;<a href="/docs/v2/official-account/bat-dau/gioi-thieu-official-account-api-va-cac-nhom-quyen">tại đây</a>.</p><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Lưu ý</div><div class="admonitionContent_S0QG"><p>Callback URL là nơi bạn sẽ phải thực hiện xử lý để nhận được authorization code. Trình duyệt sẽ chuyển hướng OA admin đến địa chỉ này sau khi quá trình ủy quyền từ phía OA admin hoàn tất.</p></div></div><img src="/docs/img/app_request_perm_oa_1.jpg" class="custom-image"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="bước-3-yêu-cầu-cấp-authorization-code">Bước 3: Yêu cầu cấp authorization code<a href="#bước-3-yêu-cầu-cấp-authorization-code" class="hash-link" aria-label="Đường dẫn trực tiếp tới Bước 3: Yêu cầu cấp authorization code" title="Đường dẫn trực tiếp tới Bước 3: Yêu cầu cấp authorization code">​</a></h4><p>Sao chép đường dẫn yêu cầu cấp quyền và gửi đến admin của OA để bắt đầu quá trình nhận authorization code.&nbsp;</p><img src="/docs/img/duong_dan.png" class="custom-image"><p>Đường dẫn sẽ mở trang cấp quyền cho ứng dụng như bên dưới:</p><img src="/docs/img/uy_quyen_1.jpg" class="custom-image"><p>Tại đây, Admin chọn tài khoản OA cần cấp quyền và chọn “Cho phép” để xác nhận cấp quyền. Trình duyệt sẽ chuyển hướng và gửi authorization code về callback URL đã được thiết lập trước đó (callback URL của bạn sẽ nhận được 1 HTTP get request có kèm authorization code và OA ID).</p><p>Ví dụ: callback URL của bạn là&nbsp;<a href="https://yourdomain.com/abc" target="_blank" rel="noopener noreferrer">https://yourdomain.com/abc</a>.HTTP get request sẽ gọi đến callback URL là:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #bfc7d5; --prism-background-color: #292d3e;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(191, 199, 213);"><span class="token plain">https://yourdomain.com/abc?code=&lt;AUTHORIZATION_CODE&gt;&amp;oa_id=&lt;OA_ID&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Sao chép code vào bộ nhớ tạm" title="Sao chép" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="bước-4-gửi-api-để-lấy-oa-access-token-từ-authorization-code">Bước 4: Gửi API để lấy oa access token từ authorization code<a href="#bước-4-gửi-api-để-lấy-oa-access-token-từ-authorization-code" class="hash-link" aria-label="Đường dẫn trực tiếp tới Bước 4: Gửi API để lấy oa access token từ authorization code" title="Đường dẫn trực tiếp tới Bước 4: Gửi API để lấy oa access token từ authorization code">​</a></h4><p>Sử dụng API sau để lấy&nbsp;oa&nbsp;access token từ authorization code mà bạn nhận được.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="http-request">HTTP request<a href="#http-request" class="hash-link" aria-label="Đường dẫn trực tiếp tới HTTP request" title="Đường dẫn trực tiếp tới HTTP request">​</a></h5><ul class=""><li><strong>URL</strong>: https://<a href="http://oauth.zaloapp.com/v4/oa/access_token" target="_blank" rel="noopener noreferrer">oauth.zaloapp.com/v4/oa/access_token<br></a></li><li><strong>Method</strong>: POST</li><li><strong>Content&nbsp;Type</strong>: application/x-www-form-urlencoded</li></ul><h5 class="anchor anchorWithStickyNavbar_LWe7" id="example-request">Example request<a href="#example-request" class="hash-link" aria-label="Đường dẫn trực tiếp tới Example request" title="Đường dẫn trực tiếp tới Example request">​</a></h5><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #bfc7d5; --prism-background-color: #292d3e;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(191, 199, 213);"><span class="token function" style="color: rgb(130, 170, 255);">curl</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(199, 146, 234);">\</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(191, 199, 213);"><span class="token plain">-X POST </span><span class="token punctuation" style="color: rgb(199, 146, 234);">\</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(191, 199, 213);"><span class="token plain">-H </span><span class="token string" style="color: rgb(195, 232, 141);">'Content-Type: application/x-www-form-urlencoded'</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(199, 146, 234);">\</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(191, 199, 213);"><span class="token plain">-H </span><span class="token string" style="color: rgb(195, 232, 141);">'secret_key: &lt;your_secret_key&gt;'</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(199, 146, 234);">\</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(191, 199, 213);"><span class="token plain">--data-urlencode </span><span class="token string" style="color: rgb(195, 232, 141);">'code=&lt;your_oauth_code&gt;'</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(199, 146, 234);">\</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(191, 199, 213);"><span class="token plain">--data-urlencode </span><span class="token string" style="color: rgb(195, 232, 141);">'app_id=&lt;your_app_id&gt;'</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(199, 146, 234);">\</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(191, 199, 213);"><span class="token plain">--data-urlencode </span><span class="token string" style="color: rgb(195, 232, 141);">'grant_type=authorization_code'</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(199, 146, 234);">\</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(191, 199, 213);"><span class="token plain">--data-urlencode </span><span class="token string" style="color: rgb(195, 232, 141);">'code_verifier=your_code_verifier'</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(199, 146, 234);">\</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(191, 199, 213);"><span class="token plain"></span><span class="token string" style="color: rgb(195, 232, 141);">'https://oauth.zaloapp.com/v4/oa/access_token'</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Sao chép code vào bộ nhớ tạm" title="Sao chép" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h6 class="anchor anchorWithStickyNavbar_LWe7" id="tham-số-header">Tham số header<a href="#tham-số-header" class="hash-link" aria-label="Đường dẫn trực tiếp tới Tham số header" title="Đường dẫn trực tiếp tới Tham số header">​</a></h6><div align="left"><table><tbody><tr><th><p><b>Tham số</b></p></th><th><p><b>Kiểu dữ liệu</b></p></th><th><p><b>Tính bắt buộc</b></p></th><th><p><b>Mô tả</b></p></th></tr><tr><td><p><a href="/docs/v2/official-account/phu-luc/huong-dan-lay-khoa-bi-mat-cua-ung-dung">secret_key</a></p></td><td><p>string</p></td><td><p>yes</p></td><td><p>Khóa bí mật của ứng dụng. Xem hướng dẫn chi tiết&nbsp;<a href="/docs/v2/official-account/phu-luc/huong-dan-lay-khoa-bi-mat-cua-ung-dung">tại đây</a>.</p></td></tr></tbody></table></div><h6 class="anchor anchorWithStickyNavbar_LWe7" id="cấu-trúc-body">Cấu trúc body<a href="#cấu-trúc-body" class="hash-link" aria-label="Đường dẫn trực tiếp tới Cấu trúc body" title="Đường dẫn trực tiếp tới Cấu trúc body">​</a></h6><div align="left"><table><tbody><tr><th><p><b>Tham số</b></p></th><th><p><b>Kiểu dữ liệu</b></p></th><th><p><b>Tính bắt buộc</b></p></th><th><p><b>Mô tả</b></p></th></tr><tr><td><p>&nbsp;code</p></td><td><p>&nbsp;string</p></td><td><p>&nbsp;yes</p></td><td><p>&nbsp;Authorization code mà bạn nhận được ở bước 3</p></td></tr><tr><td><p>&nbsp;app_id</p></td><td><p>&nbsp;long</p></td><td><p>&nbsp;yes</p></td><td><p>&nbsp;ID của ứng dụng</p></td></tr><tr><td><p>&nbsp;grant_type</p></td><td><p>&nbsp;string</p></td><td><p>&nbsp;yes</p></td><td><p>Thuộc tính cho biết thông tin để tạo access token. Giá trị nhận vào:</p><p>· authorization_code: tạo access token từ authorization code.</p></td></tr><tr><td><p>&nbsp;code_verifier</p></td><td><p>&nbsp;string</p></td><td><p>&nbsp;yes nếu ở bước 2 có thiết lập code challenge</p></td><td><p>&nbsp;Code verifier được dùng để tạo code challenge ở bước 2.</p></td></tr></tbody></table></div><h5 class="anchor anchorWithStickyNavbar_LWe7" id="example-response">Example response<a href="#example-response" class="hash-link" aria-label="Đường dẫn trực tiếp tới Example response" title="Đường dẫn trực tiếp tới Example response">​</a></h5><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #bfc7d5; --prism-background-color: #292d3e;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(191, 199, 213);"><span class="token punctuation" style="color: rgb(199, 146, 234);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(191, 199, 213);"><span class="token plain">    </span><span class="token property">"access_token"</span><span class="token operator" style="color: rgb(137, 221, 255);">:</span><span class="token plain"> </span><span class="token string" style="color: rgb(195, 232, 141);">"RfBh5NdqsWzhcX8bDDe_1A463Z34Fhy1GVi63AoTU1InwujqF"</span><span class="token punctuation" style="color: rgb(199, 146, 234);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(191, 199, 213);"><span class="token plain">    </span><span class="token property">"refresh_token"</span><span class="token operator" style="color: rgb(137, 221, 255);">:</span><span class="token string" style="color: rgb(195, 232, 141);">"L2Y2BO9Prn_I1SkM08T4J99bZQYVbOBPfTVeRgrLdPK4ZqGX9G"</span><span class="token punctuation" style="color: rgb(199, 146, 234);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(191, 199, 213);"><span class="token plain">    </span><span class="token property">"expires_in"</span><span class="token operator" style="color: rgb(137, 221, 255);">:</span><span class="token plain"> </span><span class="token string" style="color: rgb(195, 232, 141);">"90000"</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(191, 199, 213);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(199, 146, 234);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Sao chép code vào bộ nhớ tạm" title="Sao chép" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h6 class="anchor anchorWithStickyNavbar_LWe7" id="thuộc-tính">Thuộc tính<a href="#thuộc-tính" class="hash-link" aria-label="Đường dẫn trực tiếp tới Thuộc tính" title="Đường dẫn trực tiếp tới Thuộc tính">​</a></h6><div align="left"><table><tbody><tr><th><p><b>Tham số</b></p></th><th><p><b>Kiểu dữ liệu</b></p></th><th><p><b>Mô tả</b></p></th></tr><tr><td><p>access_token</p></td><td><p>string</p></td><td><p>Access token dùng để gọi các Official Account API</p><p>Hiệu lực: 25 giờ</p></td></tr><tr><td><p>refresh_token</p></td><td><p>string</p></td><td><p>Mỗi access token được tạo sẽ có một refresh token đi kèm. Refresh token cho phép bạn tạo lại access token mới khi access token hiện tại hết hiệu lực. Refresh token chỉ có thể sử dụng 1 lần.</p><p>Xem hướng dẫn tạo access token mới từ refresh token&nbsp;<a href="/docs/v2/official-account/bat-dau/xac-thuc-va-uy-quyen-cho-ung-dung-new">tại đây</a>.</p><p>Hiệu lực: 3 tháng</p></td></tr><tr><td><p>expire_in</p></td><td><p>string</p></td><td><p>Thời hạn của access token (đơn vị tính: giây)</p></td></tr></tbody></table></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="bước-5-sử-dụng-oa-access-token-để-gọi-api">Bước 5: Sử dụng oa access token để gọi API<a href="#bước-5-sử-dụng-oa-access-token-để-gọi-api" class="hash-link" aria-label="Đường dẫn trực tiếp tới Bước 5: Sử dụng oa access token để gọi API" title="Đường dẫn trực tiếp tới Bước 5: Sử dụng oa access token để gọi API">​</a></h4><p>Sử dụng access token để gọi các API của OA.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="dùng-refresh-token-để-lấy-access-token">Dùng Refresh Token để lấy Access Token<a href="#dùng-refresh-token-để-lấy-access-token" class="hash-link" aria-label="Đường dẫn trực tiếp tới Dùng Refresh Token để lấy Access Token" title="Đường dẫn trực tiếp tới Dùng Refresh Token để lấy Access Token">​</a></h3><p>Với mục đích năng cao tính bảo mật, bảo đảm an toàn thông tin, Access Token chỉ có hiệu lực trong 25 giờ kể từ khi được cấp, Ứng dụng cần gọi API sau đây để được cấp mới Access Token từ Refresh Token. Vòng lặp này có thể được thực hiện nhiều lần cho tới khi Ứng dụng bạn dừng gọi cấp mới Access Token từ Refresh Token.  </p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="http-request-1"><strong>HTTP request</strong><a href="#http-request-1" class="hash-link" aria-label="Đường dẫn trực tiếp tới http-request-1" title="Đường dẫn trực tiếp tới http-request-1">​</a></h5><ul class=""><li><strong>URL</strong>: <a href="https://oauth.zaloapp.com/v4/oa/access_token" target="_blank" rel="noopener noreferrer">https://oauth.zaloapp.com/v4/oa/access_token</a></li><li><strong>Method</strong>: POST</li><li><strong>Content Type</strong>: application/x-www-form-urlencoded</li><li><strong>Response Type</strong>: json</li></ul><h5 class="anchor anchorWithStickyNavbar_LWe7" id="example-request-1">Example request<a href="#example-request-1" class="hash-link" aria-label="Đường dẫn trực tiếp tới Example request" title="Đường dẫn trực tiếp tới Example request">​</a></h5><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #bfc7d5; --prism-background-color: #292d3e;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(191, 199, 213);"><span class="token function" style="color: rgb(130, 170, 255);">curl</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(199, 146, 234);">\</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(191, 199, 213);"><span class="token plain">-X POST </span><span class="token punctuation" style="color: rgb(199, 146, 234);">\</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(191, 199, 213);"><span class="token plain">-H </span><span class="token string" style="color: rgb(195, 232, 141);">'Content-Type: application/x-www-form-urlencoded'</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(199, 146, 234);">\</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(191, 199, 213);"><span class="token plain">-H </span><span class="token string" style="color: rgb(195, 232, 141);">'secret_key: &lt;your_secret_key&gt;'</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(199, 146, 234);">\</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(191, 199, 213);"><span class="token plain">--data-urlencode </span><span class="token string" style="color: rgb(195, 232, 141);">'refresh_token=&lt;your_refresh_token&gt;'</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(199, 146, 234);">\</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(191, 199, 213);"><span class="token plain">--data-urlencode </span><span class="token string" style="color: rgb(195, 232, 141);">'app_id=&lt;your_app_id&gt;'</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(199, 146, 234);">\</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(191, 199, 213);"><span class="token plain">--data-urlencode </span><span class="token string" style="color: rgb(195, 232, 141);">'grant_type=refresh_token'</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(199, 146, 234);">\</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(191, 199, 213);"><span class="token plain"></span><span class="token string" style="color: rgb(195, 232, 141);">'https://oauth.zaloapp.com/v4/oa/access_token'</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Sao chép code vào bộ nhớ tạm" title="Sao chép" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h6 class="anchor anchorWithStickyNavbar_LWe7" id="tham-số-header-1">Tham số header<a href="#tham-số-header-1" class="hash-link" aria-label="Đường dẫn trực tiếp tới Tham số header" title="Đường dẫn trực tiếp tới Tham số header">​</a></h6><div align="left"><table><tbody><tr><th><p><b>Tham số</b></p></th><th><p><b>Kiểu dữ liệu</b></p></th><th><p><b>Tính bắt buộc</b></p></th><th><p><b>Mô tả</b></p></th></tr><tr><td><p><a href="/docs/v2/official-account/phu-luc/huong-dan-lay-khoa-bi-mat-cua-ung-dung">secret_key</a></p></td><td><p>string</p></td><td><p>yes</p></td><td><p>Khóa bí mật của ứng dụng. Xem hướng dẫn chi tiết&nbsp;<a href="/docs/v2/official-account/phu-luc/huong-dan-lay-khoa-bi-mat-cua-ung-dung">tại đây</a>.</p></td></tr></tbody></table></div><h6 class="anchor anchorWithStickyNavbar_LWe7" id="cấu-trúc-body-1">Cấu trúc body<a href="#cấu-trúc-body-1" class="hash-link" aria-label="Đường dẫn trực tiếp tới Cấu trúc body" title="Đường dẫn trực tiếp tới Cấu trúc body">​</a></h6><div align="left"><table><tbody><tr><th><p><b>Tham số</b></p></th><th><p><b>Kiểu dữ liệu</b></p></th><th><p><b>Tính bắt buộc</b></p></th><th><p><b>Mô tả</b></p></th></tr><tr><td><p>refresh_token</p></td><td><p>string</p></td><td><p>yes</p></td><td><p>Refresh token dùng để tạo access token mới.</p></td></tr><tr><td><p>app_id</p></td><td><p>long</p></td><td><p>yes</p></td><td><p>ID của ứng dụng.</p></td></tr><tr><td><p>grant_type</p></td><td><p>string</p></td><td><p>yes</p></td><td><p>Thuộc tính cho biết thông tin để tạo access token. Giá trị nhận vào:</p><p>· &nbsp; &nbsp; &nbsp; &nbsp;<b>refresh_token</b>: tạo <b>access token</b> từ <b>refresh token</b>.</p></td></tr></tbody></table></div><h5 class="anchor anchorWithStickyNavbar_LWe7" id="example-respond">Example respond<a href="#example-respond" class="hash-link" aria-label="Đường dẫn trực tiếp tới Example respond" title="Đường dẫn trực tiếp tới Example respond">​</a></h5><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #bfc7d5; --prism-background-color: #292d3e;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(191, 199, 213);"><span class="token punctuation" style="color: rgb(199, 146, 234);">{</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(191, 199, 213);"><span class="token plain">    </span><span class="token property">"access_token"</span><span class="token operator" style="color: rgb(137, 221, 255);">:</span><span class="token string" style="color: rgb(195, 232, 141);">"E5sPAxHWmF9aYZeZzPczEcNRtdVIPCD3XyGXw1uLBZ3npsF-MUW"</span><span class="token punctuation" style="color: rgb(199, 146, 234);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(191, 199, 213);"><span class="token plain">    </span><span class="token property">"refresh_token"</span><span class="token operator" style="color: rgb(137, 221, 255);">:</span><span class="token plain"> </span><span class="token string" style="color: rgb(195, 232, 141);">"DCcFKjWctu458dAU2FRbaNRPCcQGZ34zCmUF9aYEcNRtdVIaq"</span><span class="token punctuation" style="color: rgb(199, 146, 234);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(191, 199, 213);"><span class="token plain">    </span><span class="token property">"expires_in"</span><span class="token operator" style="color: rgb(137, 221, 255);">:</span><span class="token plain"> </span><span class="token string" style="color: rgb(195, 232, 141);">"90000"</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(191, 199, 213);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(199, 146, 234);">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Sao chép code vào bộ nhớ tạm" title="Sao chép" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h6 class="anchor anchorWithStickyNavbar_LWe7" id="mô-tả-thuộc-tính">Mô tả thuộc tính<a href="#mô-tả-thuộc-tính" class="hash-link" aria-label="Đường dẫn trực tiếp tới Mô tả thuộc tính" title="Đường dẫn trực tiếp tới Mô tả thuộc tính">​</a></h6><div align="left"><table><tbody><tr><th><p><b>Thuộc tính</b></p></th><th><p><b>Kiểu dữ liệu</b></p></th><th><p><b>Mô tả</b></p></th></tr><tr><td><p>access_token</p></td><td><p>string</p></td><td><p>Access token dùng để gọi các Official Account API</p><p>Hiệu lực: 25 giờ</p></td></tr><tr><td><p>refresh_token</p></td><td><p>string</p></td><td><p>Mỗi access token được tạo sẽ có một refresh token đi kèm. Refresh token cho phép bạn tạo lại access token mới khi access token hiện tại hết hiệu lực. Refresh token chỉ có thể sử dụng 1 lần.</p><p>Hiệu lực: 3 tháng</p></td></tr><tr><td><p>expire_in</p></td><td><p>string</p></td><td><p>Thời hạn của access token (đơn vị tính: giây)</p></td></tr></tbody></table></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="cách-2-sử-dụng-công-cụ-zalo-api-explorer">Cách 2: Sử dụng công cụ Zalo API Explorer<a href="#cách-2-sử-dụng-công-cụ-zalo-api-explorer" class="hash-link" aria-label="Đường dẫn trực tiếp tới Cách 2: Sử dụng công cụ Zalo API Explorer" title="Đường dẫn trực tiếp tới Cách 2: Sử dụng công cụ Zalo API Explorer">​</a></h2><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>mẹo</div><div class="admonitionContent_S0QG"><p>Phương pháp này chỉ sử dụng khi bạn là</p><ul class=""><li>Admin của OA muốn lấy mã xác thực</li><li>Admin của Ứng dụng dùng để lấy mã xác thực</li></ul></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="lấy-access-token">Lấy Access Token<a href="#lấy-access-token" class="hash-link" aria-label="Đường dẫn trực tiếp tới Lấy Access Token" title="Đường dẫn trực tiếp tới Lấy Access Token">​</a></h3><ul class=""><li>Vào phần Công cụ &amp; Hỗ trợ &gt; API Explorertrên trang Zalo for Developers.<img src="/docs/img/tool1.png" class="custom-image"></li></ul><ul class=""><li>Chọn Ứng dụng<img src="/docs/img/tool2.png" class="custom-image"></li></ul><ul class=""><li>Chọn Loại Access Token là OA Access Token<img src="/docs/img/tool3.png" class="custom-image"></li></ul><ul class=""><li>Chọn Zalo Official Account (OA) <img src="/docs/img/tool4.png" class="custom-image"></li></ul><ul class=""><li>Kiểm tra các quyền ứng dụng yêu cầu được cấp và click Cho phép<img src="/docs/img/uy_quyen_1.jpg" class="custom-image"></li></ul><ul class=""><li>Sao chép access token và sử dụng access token để gọi các OA API<img src="/docs/img/tool6.png" class="custom-image"></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="lấy-refresh-token">Lấy Refresh Token<a href="#lấy-refresh-token" class="hash-link" aria-label="Đường dẫn trực tiếp tới Lấy Refresh Token" title="Đường dẫn trực tiếp tới Lấy Refresh Token">​</a></h3><p>Tương tự Bước 1 tới Bước 5 của “Lấy Access Token” bằng công cụ Zalo API Explorer, tại bước 6: </p><ul class=""><li>Copy refresh token và cập nhật vào hệ thống để bắt đầu vòng lặp lấy access token<img src="/docs/img/tool7.png" class="custom-image"></li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Thanh điều hướng của trang tài liệu"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/v2/official-account/bat-dau/khoi-tao-ung-dung"><div class="pagination-nav__sublabel">Trước</div><div class="pagination-nav__label">Khởi tạo ứng dụng</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/v2/official-account/bat-dau/gioi-thieu-official-account-api-va-cac-nhom-quyen"><div class="pagination-nav__sublabel">Kế tiếp</div><div class="pagination-nav__label">Giới thiệu Official Account API và các nhóm Quyền</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#các-thuật-ngữ" class="table-of-contents__link toc-highlight">Các thuật ngữ</a></li><li><a href="#cách-1-sử-dụng-giao-thức-oauth-v4" class="table-of-contents__link toc-highlight">Cách 1: Sử dụng giao thức OAuth v4</a><ul><li><a href="#lấy-access-token-lần-đầu" class="table-of-contents__link toc-highlight">Lấy Access Token lần đầu</a></li><li><a href="#dùng-refresh-token-để-lấy-access-token" class="table-of-contents__link toc-highlight">Dùng Refresh Token để lấy Access Token</a></li></ul></li><li><a href="#cách-2-sử-dụng-công-cụ-zalo-api-explorer" class="table-of-contents__link toc-highlight">Cách 2: Sử dụng công cụ Zalo API Explorer</a><ul><li><a href="#lấy-access-token" class="table-of-contents__link toc-highlight">Lấy Access Token</a></li><li><a href="#lấy-refresh-token" class="table-of-contents__link toc-highlight">Lấy Refresh Token</a></li></ul></li></ul></div></div></div></div></main></div></div><footer><div class="footer_wrap"><address>©2023 Zalo for Developers</address></div></footer></div>